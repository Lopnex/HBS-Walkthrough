<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HBS Walkthrough</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">

    <!-- LEFT SIDEBAR -->
    <aside id="sidebar">
      <h1 class="site-title">Horton Bay Stories Walkthrough</h1>

      <nav>
        <ul id="navList">
          <!-- Top level pages -->
          <li class="nav-item" data-section="info">
            <button class="nav-link active" data-section="info">
              Information
            </button>
          </li>

          <li class="nav-item" data-section="getting-started">
            <button class="nav-link" data-section="getting-started">
              Getting Started!
            </button>
          </li>

          <li class="nav-item" data-section="main-story">
            <button class="nav-link" data-section="main-story">
              Main Story
            </button>
          </li>

          <li class="nav-item" data-section="side-quests">
            <button class="nav-link" data-section="side-quests">
              Side Quests
            </button>
          </li>

          <li class="nav-item" data-section="extra-content">
            <button class="nav-link" data-section="extra-content">
              Extra Content / Tips
            </button>
          </li>

          <!-- Main Characters header (non-clickable) -->
          <li class="nav-header">Main Characters</li>

          <li class="nav-item" data-section="adel-reynolds">
            <button class="nav-link" data-section="adel-reynolds">
              Adel Reynolds
            </button>
          </li>

          <li class="nav-item" data-section="gemma-rey">
            <button class="nav-link" data-section="gemma-rey">
              Gemma Rey
            </button>
          </li>

          <li class="nav-item" data-section="christine-samson">
            <button class="nav-link" data-section="christine-samson">
              Christine Samson
            </button>
          </li>

          <!-- Residents header (non-clickable) -->
          <li class="nav-header">Horton Bay Residents</li>
          <!-- add more resident nav-items here later if you want -->
        </ul>
      </nav>
    </aside>

    <!-- MIDDLE CONTENT -->
    <main id="content">

      <!-- Banner -->
      <div class="center-banner">
        <img src="Lumphorngames-banner.png" alt="Lumphorn Games banner" />
      </div>

      <!-- Main sections (only one visible at a time) -->

      <!-- Information (default visible) -->
      <section id="info" class="content-section visible">
        <div class="section-header">
          <h2>Information</h2>
          <button class="hide-section-btn" data-section="info">Hide</button>
        </div>
        <p>
          Basic info about the game: version, routes, spoilers, and general notes.
          You can describe which choices matter, if saves are recommended, etc.
        </p>
      </section>

      <!-- Getting Started -->
      <section id="getting-started" class="content-section">
        <div class="section-header">
          <h2>Getting Started!</h2>
          <button class="hide-section-btn" data-section="getting-started">Hide</button>
        </div>
        <p>
          Intro details about starting a new game, recommended settings, and
          anything a new player should know before jumping in.
        </p>
      </section>

      <!-- Main Story -->
      <section id="main-story" class="content-section">
        <div class="section-header">
          <h2>Main Story</h2>
          <button class="hide-section-btn" data-section="main-story">Hide</button>
        </div>
        <p>
          Put your main story walkthrough here: key choices, chapter order,
          and important flags so players can follow the core route.
        </p>
      </section>

      <!-- Side Quests -->
      <section id="side-quests" class="content-section">
        <div class="section-header">
          <h2>Side Quests</h2>
          <button class="hide-section-btn" data-section="side-quests">Hide</button>
        </div>
        <p>
          Use this section to list and detail optional quests, how to start them,
          and any rewards or missable content.
        </p>
      </section>

      <!-- Extra Content / Tips -->
      <section id="extra-content" class="content-section">
        <div class="section-header">
          <h2>Extra Content / Tips</h2>
          <button class="hide-section-btn" data-section="extra-content">Hide</button>
        </div>
        <p>
          General hints, tricks, hidden scenes, replay tips, or anything
          that doesn’t fit neatly into the main story or side quests.
        </p>
      </section>

      <!-- Character pages -->
      <section id="adel-reynolds" class="content-section">
        <div class="section-header">
          <h2>Adel Reynolds</h2>
          <button class="hide-section-btn" data-section="adel-reynolds">Hide</button>
        </div>
        <p>
          Notes about Adel: how to meet them, route requirements,
          important choices, and key scenes.
        </p>
      </section>

      <section id="gemma-rey" class="content-section">
        <div class="section-header">
          <h2>Gemma Rey</h2>
          <button class="hide-section-btn" data-section="gemma-rey">Hide</button>
        </div>
        <p>
          Notes about Gemma: relationship tips, quest steps,
          and any unique scenes tied to Gemma.
        </p>
      </section>

      <section id="christine-samson" class="content-section">
        <div class="section-header">
          <h2>Christine Samson</h2>
          <button class="hide-section-btn" data-section="christine-samson">Hide</button>
        </div>
        <p>
          Notes about Christine: how to progress her storyline,
          choices that matter, and recommended order for events.
        </p>
      </section>

      <!-- Manage Hidden Sections page -->
      <section id="hiddenManager" class="content-section">
        <div class="section-header">
          <h2>Manage Hidden Sections</h2>
        </div>
        <p>
          Sections you hide from the left menu will appear here. Click "Unhide"
          to add them back into the navigation.
        </p>
        <ul id="hiddenList">
          <!-- filled by JS -->
        </ul>
      </section>

      <footer id="footer">
        <p>Made by <strong>Lopnex</strong> – hosted with GitHub Pages.</p>
      </footer>
    </main>

    <!-- RIGHT SIDEBAR -->
    <aside id="rightbar">
      <div class="right-icons">
        <a href="https://patreon.com/Lumphorngames"
           target="_blank"
           rel="noopener"
           title="Support on Patreon">
          <img
            id="patreon-logo"
            src="Patreon-logo.png"
            alt="Patreon"
          />
        </a>
      </div>

      <div class="highlight-box">
        <h2>Highlight</h2>
        <ul class="highlight-list">
          <li><strong>New in 0.6.0.2</strong></li>
        </ul>

        <!-- Right-side button that opens the Manage Hidden Sections page -->
        <a href="#" class="manage-hidden-link" data-section="hiddenManager">
          Manage Hidden Sections
        </a>
      </div>
    </aside>

  </div>

  <!-- JS: switch visible section + hide/unhide via middle Hide buttons -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const navLinks = document.querySelectorAll('.nav-link');
      const manageHiddenLinks = document.querySelectorAll('.manage-hidden-link');
      const sections = document.querySelectorAll('.content-section');
      const hiddenList = document.getElementById('hiddenList');
      const hideSectionButtons = document.querySelectorAll('.hide-section-btn');

      function showSection(id) {
        sections.forEach(sec => {
          sec.classList.toggle('visible', sec.id === id);
        });
      }

      function setActiveNav(id) {
        navLinks.forEach(btn => {
          const sec = btn.getAttribute('data-section');
          btn.classList.toggle('active', sec === id);
        });
      }

      // Left sidebar: click to show section
      navLinks.forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const target = btn.getAttribute('data-section');
          if (!target) return;
          showSection(target);
          setActiveNav(target);
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      });

      // Right sidebar: Manage Hidden Sections opens that page
      manageHiddenLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const target = link.getAttribute('data-section');
          if (!target) return;
          showSection(target);
          // no left nav item gets "active" here
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      });

      // Middle "Hide" buttons in each section
      hideSectionButtons.forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const sectionId = btn.getAttribute('data-section');
          const navItem = document.querySelector('.nav-item[data-section="' + sectionId + '"]');
          if (!navItem) return;

          // hide from left nav
          navItem.style.display = 'none';

          // if currently viewing this section, switch to Information if available
          const currentVisible = document.querySelector('.content-section.visible');
          if (currentVisible && currentVisible.id === sectionId) {
            if (document.getElementById('info')) {
              showSection('info');
              setActiveNav('info');
            }
          }

          // add to hidden list if not already present
          if (hiddenList && !hiddenList.querySelector('[data-section="' + sectionId + '"]')) {
            const label = navItem.querySelector('.nav-link')?.textContent.trim() || sectionId;
            const li = document.createElement('li');
            li.setAttribute('data-section', sectionId);
            li.innerHTML = `
              <span>${label}</span>
              <button class="unhide-btn" data-section="${sectionId}">Unhide</button>
            `;
            hiddenList.appendChild(li);
          }

          // jump to Manage Hidden Sections page so the user sees where it went
          showSection('hiddenManager');
          setActiveNav(''); // clear active state
        });
      });

      // Unhide via Manage Hidden Sections list
      if (hiddenList) {
        hiddenList.addEventListener('click', (e) => {
          const btn = e.target.closest('.unhide-btn');
          if (!btn) return;
          const sectionId = btn.getAttribute('data-section');
          const navItem = document.querySelector('.nav-item[data-section="' + sectionId + '"]');
          if (navItem) {
            navItem.style.display = ''; // show again
          }
          // remove from hidden list
          btn.parentElement.remove();
        });
      }
    });
  </script>
</body>
</html>
